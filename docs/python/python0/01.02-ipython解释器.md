# Ipython 解释器

## 进入ipython

通常我们并不使用**Python**自带的解释器，而是使用另一个比较方便的解释器——**ipython**解释器，命令行下输入：

    ipython

即可进入**ipython**解释器。

所有在**python**解释器下可以运行的代码都可以在**ipython**解释器下运行：


```python
print ("hello, world")
```

可以进行简单赋值操作：


```python
a = 1
```

直接在解释器中输入变量名，会显示变量的值（不需要加`print`）：


```python
a
```


```python
b = [1, 2, 3]
```

## ipython magic命令

**ipython**解释器提供了很多以百分号`%`开头的`magic`命令，这些命令很像linux系统下的命令行命令（事实上有些是一样的）。

查看所有的`magic`命令：


```python
%lsmagic
```

`line magic` 以一个百分号开头，作用与一行；

`cell magic` 以两个百分号开头，作用于整个cell。

最后一行`Automagic is ON, % prefix IS NOT needed for line magics.`说明在此时即使不加上`%`也可以使用这些命令。

使用 `whos` 查看当前的变量空间：


```python
%whos
```

使用 `reset` 重置当前变量空间：


```python
%reset -f
```

再查看当前变量空间：


```python
%whos
```

使用 `pwd` 查看当前工作文件夹：


```python
%pwd
```

使用 `mkdir` 产生新文件夹：


```python
%mkdir demo_test
```

使用 `cd` 改变工作文件夹：


```python
%cd demo_test/
```

使用 `writefile` 将cell中的内容写入文件：


```python
%%writefile hello_world.py
print ("hello world")
```

使用 `ls` 查看当前工作文件夹的文件：


```python
%ls
```

使用 `run` 命令来运行这个代码：


```python
%run hello_world.py
```

删除这个文件：


```python
import os
os.remove('hello_world.py')
```

查看当前文件夹，`hello_world.py` 已被删除：


```python
%ls
```

返回上一层文件夹：


```python
%cd ..
```

使用 `rmdir` 删除文件夹：


```python
%rmdir demo_test
```

使用 `hist` 查看历史命令：


```python
%hist
```

## ipython 使用

使用 `?` 查看函数的帮助：


```python
sum?
```

使用 `??` 查看函数帮助和函数源代码（如果是用**python**实现的）：


```python
# 导入numpy和matplotlib两个包
%pylab
# 查看其中sort函数的帮助
sort??
```

**ipython** 支持使用 `<tab>` 键自动补全命令。

使用 `_` 使用上个cell的输出结果：


```python
a = 12
a
```


```python
_ + 13
```

可以使用 `!` 来执行一些系统命令。


```python
!ping baidu.com
```

当输入出现错误时，**ipython**会指出出错的位置和原因：


```python
1 + "hello"
```
